import{a as V,b as J,c as K,d as W,e as X,f as Y,g as Z,h as ee,i as te,j as ie,k as ae,n as ne,o as se,p as le,q as de}from"./chunk-RCXT5MBO.js";import{K as pe,L as me,M as ue,O as D,h as oe,m as re}from"./chunk-WOEXWBEB.js";import"./chunk-2XM5DU5Y.js";import{d as B,e as j,l as Q,n as U,p as x}from"./chunk-NRAUPDVH.js";import{Ab as L,Cb as k,Db as N,Eb as p,Fb as n,Gb as a,Hb as l,Ib as $,Jb as H,Lb as b,Mb as g,Sa as o,Sb as z,Tb as C,Z as f,cc as q,fb as u,fc as r,gc as m,ib as R,kc as A,lb as d,lc as h,mc as _,pa as E,ra as P,rc as S,wb as v,wc as O,xb as w,zb as F}from"./chunk-OUY575HO.js";var I=class e{userInput=E({org:"angular",repo:"components"});userInputForm=me(this.userInput,t=>{D(t.repo,300),D(t.org,300)});constructor(){let t=f(x);P(async()=>{let i=this.userInput();await t.navigate([],{queryParams:i,queryParamsHandling:"merge"})})}static \u0275fac=function(i){return new(i||e)};static \u0275cmp=u({type:e,selectors:[["app-github-filters"]],hostAttrs:[1,"flex","gap-2"],decls:8,vars:4,consts:[[1,"flex-1"],["matInput","","type","text","placeholder","Org name",3,"field"],["matInput","","type","text","placeholder","Repo name",3,"field"]],template:function(i,s){i&1&&(n(0,"mat-form-field",0)(1,"mat-label"),r(2,"Organization"),a(),l(3,"input",1),v(),a(),n(4,"mat-form-field",0)(5,"mat-label"),r(6,"Repository"),a(),l(7,"input",2),v(),a()),i&2&&(o(3),w(s.userInputForm.org,"field"),o(4),w(s.userInputForm.repo,"field"))},dependencies:[re,oe,pe,ue],encapsulation:2})};var y=class e{transform(t){if(!/^([0-9A-Fa-f]{6})$/.test(t))return t;let i=255-parseInt(t.slice(0,2),16),s=255-parseInt(t.slice(2,4),16),c=255-parseInt(t.slice(4,6),16);return((1<<24)+(i<<16)+(s<<8)+c).toString(16).slice(1).toUpperCase()}static \u0275fac=function(i){return new(i||e)};static \u0275pipe=R({name:"inverseColor",type:e,pure:!0})};var be=(e,t)=>t.name;function ge(e,t){if(e&1&&($(0,"span",1),h(1,"inverseColor"),r(2),H()),e&2){let i=t.$implicit;q("background-color","#"+i.color)("color","#"+_(1,5,i.color)),o(2),m(i.name)}}var T=class e{labels=O.required();static \u0275fac=function(i){return new(i||e)};static \u0275cmp=u({type:e,selectors:[["app-github-labels"]],hostAttrs:[1,"flex","flex-wrap","gap-1"],inputs:{labels:[1,"labels"]},decls:2,vars:0,consts:[[1,"px-2","rounded-full","text-nowrap",3,"background-color","color"],[1,"px-2","rounded-full","text-nowrap"]],template:function(i,s){i&1&&k(0,ge,3,7,"span",0,be),i&2&&N(s.labels())},dependencies:[y],encapsulation:2})};var he=()=>[30];function _e(e,t){if(e&1&&(n(0,"p",4),r(1,"An error occurred:"),a(),n(2,"div")(3,"pre"),r(4),h(5,"json"),a()()),e&2){let i=C();o(4),m(_(5,1,i.issues.error()))}}function Ce(e,t){if(e&1&&(n(0,"div",1),l(1,"app-table-skeleton",5),a()),e&2){let i=C();o(),p("desc",i.skeleton)}}function xe(e,t){e&1&&(n(0,"p",2),r(1,"No issues found..."),a())}function Ie(e,t){e&1&&(n(0,"th",17),r(1,"ID"),a())}function ye(e,t){if(e&1&&(n(0,"td",18),r(1),a()),e&2){let i=t.$implicit;o(),m(i.id)}}function Te(e,t){e&1&&(n(0,"th",17),r(1,"Created"),a())}function ve(e,t){if(e&1&&(n(0,"td",19),r(1),h(2,"date"),a()),e&2){let i=t.$implicit;o(),m(_(2,1,i.created_at))}}function we(e,t){e&1&&(n(0,"th",17),r(1,"Title"),a())}function Se(e,t){if(e&1&&(n(0,"td",20),r(1),a()),e&2){let i=t.$implicit;o(),m(i.title)}}function De(e,t){e&1&&(n(0,"th",17),r(1,"Labels"),a())}function Ge(e,t){if(e&1&&(n(0,"td",20),l(1,"app-github-labels",21),a()),e&2){let i=t.$implicit;o(),p("labels",i.labels)}}function Me(e,t){e&1&&l(0,"tr",22)}function Ee(e,t){e&1&&l(0,"tr",23)}function Pe(e,t){if(e&1&&(n(0,"div",1)(1,"table",6),b(2,7),d(3,Ie,2,0,"th",8)(4,ye,2,1,"td",9),g(),b(5,10),d(6,Te,2,0,"th",8)(7,ve,3,3,"td",11),g(),b(8,12),d(9,we,2,0,"th",8)(10,Se,2,1,"td",13),g(),b(11,14),d(12,De,2,0,"th",8)(13,Ge,2,1,"td",13),g(),d(14,Me,1,0,"tr",15)(15,Ee,1,0,"tr",16),a()()),e&2){let i=C();o(),p("dataSource",i.items()),o(13),p("matHeaderRowDef",i.cols),o(),p("matRowDefColumns",i.cols)}}var M=class e{router=f(x);cols=["id","created_at","title","labels"];params=le(f(U).queryParams);issues=Q(()=>{let t=this.params();if(!t?.org||!t?.repo)return;let i=new URLSearchParams;return i.set("q",`repo:${t.org}/${t.repo}`),i.set("page",String(parseInt(t.page??"0")+1)),`https://api.github.com/search/issues?${i.toString()}`});items=S(()=>this.issues.hasValue()?this.issues.value().items:[]);total=S(()=>(this.issues.hasValue()?this.issues.value()?.total_count:0)??0);skeleton={cols:[{title:"ID",width:"w-1/8"},{title:"Created",width:"w-1/8"},{title:"Title",width:"w-3/8"},{title:"Labels",width:"w-3/8"}],rows:30};pageChange(t){return this.router.navigate([],{queryParams:{page:t.pageIndex},queryParamsHandling:"merge"})}static \u0275fac=function(i){return new(i||e)};static \u0275cmp=u({type:e,selectors:[["app-main-table"]],decls:7,vars:7,consts:[[1,"shadow-lg","rounded-lg","overflow-y-auto"],[2,"max-height","calc(100vh - 15rem)","overflow-y","auto"],[1,"p-4"],["showFirstLastButtons","","aria-label","Select page of items",3,"page","pageSizeOptions","hidePageSize","length","pageIndex","pageSize"],[1,"text-red-600"],[3,"desc"],["mat-table","",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","class","w-1/8",4,"matCellDef"],["matColumnDef","created_at"],["mat-cell","","class","text-nowrap w-1/8",4,"matCellDef"],["matColumnDef","title"],["mat-cell","","class","w-3/8",4,"matCellDef"],["matColumnDef","labels"],["mat-header-row","","style","position: sticky",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell","",1,"w-1/8"],["mat-cell","",1,"text-nowrap","w-1/8"],["mat-cell","",1,"w-3/8"],[3,"labels"],["mat-header-row","",2,"position","sticky"],["mat-row",""]],template:function(i,s){if(i&1&&(n(0,"div",0),l(1,"app-github-filters"),F(2,_e,6,3)(3,Ce,2,1,"div",1)(4,xe,2,0,"p",2)(5,Pe,16,3,"div",1),n(6,"mat-paginator",3),z("page",function(fe){return s.pageChange(fe)}),a()()),i&2){let c;o(2),L(s.issues.error()?2:s.issues.isLoading()?3:s.items().length===0?4:5),o(4),p("pageSizeOptions",A(6,he))("hidePageSize",!0)("length",s.total())("pageIndex",((c=s.params())==null?null:c.page)||0)("pageSize",30)}},dependencies:[ae,V,K,Z,W,J,ee,X,Y,te,ie,ne,I,T,se,de,j,B],styles:["th[_ngcontent-%COMP%]{position:sticky;top:0;background-color:#fff;z-index:1}"]})},nt=M;export{M as GithubIssuesTable,nt as default};
